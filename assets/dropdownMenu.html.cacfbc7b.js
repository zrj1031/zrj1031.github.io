import{r as o,o as e,c,a as s,b as p,F as r,d as n,e as t}from"./app.25546b90.js";import{_ as l,a as i}from"./rect.a171f801.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";const k={},b=s("h1",{id:"vant-dropdown\u5B9E\u73B0",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#vant-dropdown\u5B9E\u73B0","aria-hidden":"true"},"#"),n(" Vant Dropdown\u5B9E\u73B0")],-1),d={href:"https://github.com/zrj1031/awesome-react-mobile",target:"_blank",rel:"noopener noreferrer"},m=n("github\u5730\u5740"),h={href:"https://zrj1031.github.io/awesome-react-mobile/dropdown",target:"_blank",rel:"noopener noreferrer"},_=n("\u4F53\u9A8C\u5730\u5740"),g=n("\u5728\u524D\u4E1C\u5BB6\u732A\u5382\u7684\u65F6\u5019, \u90E8\u95E8\u5F00\u53D1"),f={href:"https://nsfi.github.io/fishd-mobile-site/index.html#/zh-CN/components/dropdown",target:"_blank",rel:"noopener noreferrer"},v=n("\u79FB\u52A8\u7AEF\u7EC4\u4EF6\u5E93"),y=n(", \u5F53\u65F6\u5E02\u9762\u4E0A"),w=s("code",null,"react",-1),x=n("\u7248\u7684\u79FB\u52A8\u7AEF\u7EC4\u4EF6\u5E93\u8D28\u91CF\u90FD\u4E0D\u592A\u884C\uFF08\u5BF9\uFF0C\u8BF4\u7684\u5C31\u662F\u4F60, "),C=s("code",null,"antd-mobile",-1),j=n("("),S={href:"https://antd-mobile-doc-v2.gitee.io/docs/react/introduce-cn",target:"_blank",rel:"noopener noreferrer"},q=n("\u65E7\u7248\u672C"),D=n(")(\u73B0\u5728\u91CD\u6784\u540E"),N={href:"https://mobile.ant.design/zh",target:"_blank",rel:"noopener noreferrer"},T=n("v5\u7248\u672C"),V=n("\u5E94\u8BE5\u597D\u5F88\u591A\u4E86)\uFF09, \u5E02\u9762\u4E0A\u505A\u7684\u6BD4\u8F83\u597D\u7684\u4E3B\u8981\u662F\u57FA\u4E8E"),z=s("code",null,"Vue",-1),E=n("\u7684"),O=s("code",null,"Vant",-1),B=n(", \u7136\u540E\u60F3\u79FB\u690D"),R=s("code",null,"DropdownMenu",-1),A=n("\u7EC4\u4EF6, \u5C31\u9700\u8981\u628A\u5B9E\u73B0\u4ECE"),M=s("code",null,"Vue",-1),L=n("\u7FFB\u8BD1\u5230"),I=s("code",null,"react",-1),U=n(", \u4E5F\u662F\u4E00\u6B21\u6BD4\u8F83\u6DF1\u5165\u7684\u9605\u8BFB\u6E90\u7801\u8FC7\u7A0B\uFF08\u5F00\u6E90\u9879\u76EE\u7684\u6E90\u7801\u4E00\u822C\u90FD\u6BD4\u8F83\u590D\u6742\u548C\u9AD8\u5C01\u88C5, \u8FD8\u662F\u5F97\u5E26\u7740\u4E00\u4E9B\u4E3A\u4EC0\u4E48\u53BB\u8BFB, \u4E0D\u7136\u8BFB\u8D77\u6765\u4F1A\u50CF\u65E0\u5934\u82CD\u8747\uFF09"),$=t('<p>\u4F53\u9A8C\u4E86\u4E0Bdemo, \u96BE\u70B9\u5E94\u8BE5\u662F\u52A8\u753B\u7684\u5904\u7406\u548C\u4F4D\u7F6E\u7684\u8BA1\u7B97</p><ul><li><p>\u52A8\u753B\u5904\u7406, <code>transition</code>\u76D1\u542C\u4E0D\u4E86<code>display: none</code>\u7684\u53D8\u5316, \u7FFB\u770B\u4E86<code>Vant</code>\u7684\u6E90\u7801, \u4E3B\u8981\u5C31\u662F<code>Vue</code>\u7684<code>Transition</code>\u7EC4\u4EF6, \u90A3React\u4E5F\u6709\u76F8\u5173\u7684\u7EC4\u4EF6 <code>import { CSSTransition } from &#39;react-transition-group&#39;</code></p></li><li><p>\u4F4D\u7F6E\u8BA1\u7B97, \u9700\u8981\u83B7\u53D6\u7236\u5143\u7D20\u7684<code>rect</code>, \u5E76\u4E14\u76D1\u542C\u9875\u9762\u6EDA\u52A8\u65F6\u9700\u540C\u6B65\u66F4\u65B0\u9875\u9762</p></li></ul><h2 id="vant-\u6700\u7B80\u63A5\u5165" tabindex="-1"><a class="header-anchor" href="#vant-\u6700\u7B80\u63A5\u5165" aria-hidden="true">#</a> Vant \u6700\u7B80\u63A5\u5165</h2>',3),F=n("\u76F8\u5173\u53C2\u6570\u5E94\u8BE5\u53EF\u4EE5\u610F\u4F1A\uFF0C\u5C31\u4E0D\u505A\u8FC7\u591A\u8D58\u8FF0, \u5177\u4F53\u53EF\u53C2\u7167"),P={href:"https://youzan.github.io/vant/v3/#/zh-CN/dropdown-menu",target:"_blank",rel:"noopener noreferrer"},H=n("Vant\u5B98\u65B9\u6587\u6863"),G=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token operator">&lt;</span>van<span class="token operator">-</span>dropdown<span class="token operator">-</span>menu<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>van<span class="token operator">-</span>dropdown<span class="token operator">-</span>item v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;value1&quot;</span> <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">&quot;option1&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>van<span class="token operator">-</span>dropdown<span class="token operator">-</span>item v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;value2&quot;</span> <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">&quot;option2&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>van<span class="token operator">-</span>dropdown<span class="token operator">-</span>menu<span class="token operator">&gt;</span>

  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> value1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> value2 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> option1 <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;\u5168\u90E8\u5546\u54C1&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;\u65B0\u6B3E\u5546\u54C1&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;\u6D3B\u52A8\u5546\u54C1&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> option2 <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;\u9ED8\u8BA4\u6392\u5E8F&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;a&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;\u597D\u8BC4\u6392\u5E8F&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;b&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;\u9500\u91CF\u6392\u5E8F&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;c&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        value1<span class="token punctuation">,</span>
        value2<span class="token punctuation">,</span>
        option1<span class="token punctuation">,</span>
        option2<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><img src="`+l+'" alt="\u6548\u679C\u56FE"></p><h2 id="\u4F4D\u7F6E\u8BA1\u7B97" tabindex="-1"><a class="header-anchor" href="#\u4F4D\u7F6E\u8BA1\u7B97" aria-hidden="true">#</a> \u4F4D\u7F6E\u8BA1\u7B97</h2><p><img src="'+i+`" alt="\u8BA1\u7B97\u56FE"></p><p>\u5982\u679CPopUp\u662F\u5F80\u4E0B\uFF0C\u5B9E\u9645\u8981\u83B7\u53D6\u7684\u4F4D\u7F6E\u5C31\u662F\u7EFF\u8272box\uFF0C\u90A3top\u662F\u84DD\u8272box\u7684bottom</p><p>\u5982\u679CPopUp\u662F\u5F80\u4E0A\uFF0C\u5B9E\u9645\u8981\u83B7\u53D6\u7684\u4F4D\u7F6E\u5C31\u662F\u7EA2\u8272box\uFF0C\u90A3bottom\u662F100vh - \u84DD\u8272box\u7684top</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>direction <span class="token operator">===</span> <span class="token string">&#39;down&#39;</span>
  <span class="token operator">?</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">top</span><span class="token operator">:</span> dropDownMenuRef<span class="token punctuation">.</span>current<span class="token operator">?.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>bottom<span class="token punctuation">,</span>
      <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token comment">// bottom: \`calc(100vh - \${dropDownMenuRef.current?.getBoundingClientRect().top}px)\`,</span>
      <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">calc(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>window<span class="token punctuation">.</span>innerHeight<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>
        dropDownMenuRef<span class="token punctuation">.</span>current<span class="token operator">?.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top
      <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px)</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="\u70B9\u51FB\u5916\u90E8\u533A\u57DF\u81EA\u52A8\u6536\u8D77-closeonclickoutside" tabindex="-1"><a class="header-anchor" href="#\u70B9\u51FB\u5916\u90E8\u533A\u57DF\u81EA\u52A8\u6536\u8D77-closeonclickoutside" aria-hidden="true">#</a> \u70B9\u51FB\u5916\u90E8\u533A\u57DF\u81EA\u52A8\u6536\u8D77 closeOnClickOutside</h2><p>\u7ED9\u5916\u90E8\u52A0\u70B9\u51FB\u4E8B\u4EF6</p>`,9),J=n("vant\u7684\u5B9E\u73B0, \u7ED9document\u7ED1\u5B9A\u4E8B\u4EF6\u4EE3\u7406\uFF0C\u901A\u8FC7"),K=s("code",null,"element.contains(event.target as Node)",-1),Q=n("\u5224\u65AD\u662F\u5426\u662F\u5916\u90E8\u70B9\u51FB\uFF0C\u662F\u7684\u8BDD\u5C31\u6267\u884C\u7ED1\u5B9A\u7684listener\uFF08\u5373\u5173\u95EDdropdownMenu), react\u5176\u5B9E\u53EF\u4EE5\u76F4\u63A5\u590D\u7528"),W=s("code",null,"ahooks",-1),X=n("\u7684"),Y={href:"https://ahooks.js.org/zh-CN/hooks/dom/use-click-away",target:"_blank",rel:"noopener noreferrer"},Z=n("useClickAway"),nn=n(", \u5B9E\u73B0\u57FA\u672C\u4E00\u81F4"),sn=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useClickAway</span><span class="token punctuation">(</span>
    <span class="token parameter"><span class="token literal-property property">target</span><span class="token operator">:</span> Element <span class="token operator">|</span> Ref<span class="token operator">&lt;</span>Element <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">listener</span><span class="token operator">:</span> EventListener<span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> UseClickAwayOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>inBrowser<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span> eventName <span class="token operator">=</span> <span class="token string">&#39;click&#39;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> Event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token function">unref</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>element <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>element<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target <span class="token keyword">as</span> Node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">listener</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">useEventListener</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> onClick<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">target</span><span class="token operator">:</span> document <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> <span class="token function-variable function">onClickAway</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>closeOnClickOutside<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        item<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useClickAway</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> onClickAway<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="ref\u6D88\u5931" tabindex="-1"><a class="header-anchor" href="#ref\u6D88\u5931" aria-hidden="true">#</a> ref\u6D88\u5931</h2>`,2),an=n("\u9047\u5230\u7684\u95EE\u9898\uFF0C\u81F3\u4ECA\u6CA1\u6709\u89E3\u51B3\uFF0C\u6211\u4EEC\u4E00\u822C\u4F1A\u4F7F\u7528ref\u4F20\u5165target dom, \u4F46\u9047\u5230\u95EE\u9898ref\u5728"),pn=s("code",null,"react-transition-group",-1),tn=n("\u7ED3\u5408\u4F7F\u7528\u65F6\u53CD\u590D\u5207\u6362\u65F6\u4F1A\u53D8\u6210null\u7684\u95EE\u9898\uFF0C\u8BB0\u4E2ATODO,\u53C2\u8003"),on={href:"https://github.com/reactjs/react-transition-group/issues/766",target:"_blank",rel:"noopener noreferrer"},en=n("issue"),cn=n(","),rn={href:"https://codesandbox.io/s/nice-ritchie-936j3?file=/index.js",target:"_blank",rel:"noopener noreferrer"},ln=n("codeSanBox"),un=t(`<p>ref\u95EE\u9898\u89E3\u51B3\uFF0C\u8BF7\u6559\u4E86\u4E0B\u540C\u4E8B \u95EE\u9898\u4EE3\u7801\u5982\u4E0B\uFF0C\u6211\u4EEC\u4F1A\u6839\u636E\u4E0D\u540C\u7684condition\u751F\u6210\u4E00\u4E2A<code>CSSTransition</code>\u7EC4\u4EF6\uFF0C\u5E76\u901A\u8FC7ref\u53BB\u83B7\u53D6\u5230\u5176\u4E2D\u7684dom\u8282\u70B9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>CSSTransition
  <span class="token keyword">in</span><span class="token operator">=</span><span class="token punctuation">{</span>condition1<span class="token punctuation">}</span>
  unmountOnExit
  classNames<span class="token operator">=</span><span class="token string">&quot;alert&quot;</span>
<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span><span class="token operator">&gt;</span>content1<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>overlay<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>CSSTransition<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>CSSTransition
  <span class="token keyword">in</span><span class="token operator">=</span><span class="token punctuation">{</span>condition2<span class="token punctuation">}</span>
  unmountOnExit
  classNames<span class="token operator">=</span><span class="token string">&quot;alert&quot;</span>
<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span><span class="token operator">&gt;</span>content2<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>overlay<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>CSSTransition<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u5982\u4E0B\u4EE3\u7801\u53EF\u4EE5\u6355\u83B7\u5230ref\u7684\u6B63\u786E\u5F15\u7528</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Demo2</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Demo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>show<span class="token punctuation">,</span> setShow<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      Change Ref
      <span class="token operator">&lt;</span>Button
        onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setShow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>pre<span class="token punctuation">)</span><span class="token punctuation">}</span>
        size<span class="token operator">=</span><span class="token string">&quot;lg&quot;</span>
      <span class="token operator">&gt;</span>
        change ref dom
      <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Demo2<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>show <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span><span class="token operator">&gt;</span>Demo2<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Demo2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Demo2<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token operator">!</span>show <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>span ref<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span><span class="token operator">&gt;</span>Demo3<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Demo2<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>\u90A3\u95EE\u9898\u5E94\u8BE5\u5C31\u662F<code>CSSTransition</code>\u9AD8\u9636\u7EC4\u4EF6\u505A\u4E86\u66F4\u591A\u989D\u5916\u7684\u5904\u7406\uFF0C\u8FC7\u7A0B\u662F<code>ref = div1 --&gt; ref = div2 --&gt; ref = null</code>, \u800C\u6211\u4EEC\u5199\u7684demo\u662F<code>ref = div1 --&gt; ref = null --&gt; ref = div2</code>, \u6700\u540E\u7684\u89E3\u51B3\u65B9\u6848\u662F\u91C7\u53D6\u4E86refs\u6570\u7EC4\uFF0C\u6BCF\u4E2A<code>CSSTransition</code>\u90FD\u6709\u72EC\u5C5E\u4E8E\u5B83\u7684ref, \u6700\u540E\u7684\u8FC7\u7A0B<code>ref1 = div1 --&gt; ref2 = div2 --&gt; ref1 = null</code></p><h2 id="zindex\u8BA1\u7B97" tabindex="-1"><a class="header-anchor" href="#zindex\u8BA1\u7B97" aria-hidden="true">#</a> zIndex\u8BA1\u7B97</h2><blockquote><p>TODO\u627E\u4E2A\u65F6\u95F4\u5B8C\u5584</p></blockquote>`,7),kn=n("\u5177\u4F53\u53EF\u53C2\u7167"),bn={href:"https://juejin.cn/post/6844904196739694605",target:"_blank",rel:"noopener noreferrer"},dn=n("nutui"),mn=n("\u8FD9\u7BC7\u6587\u7AE0\uFF0Cvant\u7684\u5B9E\u73B0\u57FA\u672C\u4E5F\u5DEE\u4E0D\u591A");function hn(_n,gn){const a=o("ExternalLinkIcon");return e(),c(r,null,[b,s("p",null,[s("a",d,[m,p(a)]),s("a",h,[_,p(a)])]),s("blockquote",null,[s("p",null,[g,s("a",f,[v,p(a)]),y,w,x,C,j,s("a",S,[q,p(a)]),D,s("a",N,[T,p(a)]),V,z,E,O,B,R,A,M,L,I,U])]),$,s("blockquote",null,[s("p",null,[F,s("a",P,[H,p(a)])])]),G,s("p",null,[J,K,Q,W,X,s("a",Y,[Z,p(a)]),nn]),sn,s("p",null,[s("s",null,[an,pn,tn,s("a",on,[en,p(a)]),cn,s("a",rn,[ln,p(a)])])]),un,s("p",null,[kn,s("a",bn,[dn,p(a)]),mn])],64)}var wn=u(k,[["render",hn]]);export{wn as default};
